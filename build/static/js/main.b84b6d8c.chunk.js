(this["webpackJsonpquiz-react"]=this["webpackJsonpquiz-react"]||[]).push([[0],{33:function(e,t,n){e.exports=n(45)},38:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),s=n.n(o),c=(n(38),n(28)),i=n(1),u=n(2),l=n(4),m=n(3),p=n(5),h=n(9),d=n(18),f=(n(39),n(14)),b="https://study-with-quizzes-api.herokuapp.com",g=b,E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleInputChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.login(b,n.state.username,n.state.password),n.setState({username:"",password:""})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 col-md-3 col-sm-1"}),r.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-10"},r.a.createElement("div",{className:"container border"},r.a.createElement("h1",null,"User Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{name:"username",id:"username",type:"text",className:"form-control",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{name:"password",id:"password",type:"password",className:"form-control",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement("input",{type:"submit",className:"btn btn-primary"}),r.a.createElement(h.b,{to:"/register"},r.a.createElement("button",{className:"btn btn-primary pull-right"},"Register New User"))),r.a.createElement("br",null))),r.a.createElement("div",{className:"col-lg-4 col-md-3 col-sm-1"})))}}]),t}(r.a.Component),O=n(7);function v(e,t,n){return function(a){a({type:"LOGGING_IN",action:{username:t,password:n}});var r={method:"POST",mode:"cors",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({username:t,password:n})};fetch("".concat(e,"/auth/login"),r).then((function(e){return e.json()})).then((function(e){"Login Successful"===e.message?(sessionStorage.setItem("jwtToken",e.access_token),sessionStorage.setItem("loggedIn",!0),sessionStorage.setItem("username",t),sessionStorage.setItem("password",n),sessionStorage.setItem("lastLogin",(new Date).getMinutes()),a({type:"LOGGED_IN"})):a({type:"LOGIN_FAILED"})}))}}var j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"homeOrLogin",value:function(){return this.props.user.loggedIn?r.a.createElement(d.a,{to:"/home"}):r.a.createElement(E,{login:this.props.login})}},{key:"render",value:function(){return r.a.createElement("div",null,this.homeOrLogin())}}]),t}(r.a.Component),y=Object(O.b)((function(e){return{user:e.user}}),(function(e){return{login:function(t,n,a){return e(v(t,n,a))}}}))(j),N=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:"",passwordConfirmation:""},n.handleInputChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.register(b,n.state.username,n.state.email,n.state.password),n.setState({username:"",email:"",password:"",passwordConfirmation:""})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-4 col-md-3 col-sm-1"}),r.a.createElement("div",{className:"col-lg-4 col-md-6 col-sm-10"},r.a.createElement("div",{className:"container border"},r.a.createElement("h1",null,"New User:"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{id:"username",name:"username",type:"text",className:"form-control",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{id:"email",name:"email",type:"email",className:"form-control",onChange:this.handleInputChange,value:this.state.email})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{id:"password",name:"password",type:"password",className:"form-control",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Password Confirmation:"),r.a.createElement("input",{id:"password-confirmation",name:"passwordConfirmation",type:"password",className:"form-control",onChange:this.handleInputChange,value:this.state.passwordConfirmation})),r.a.createElement("input",{type:"submit",className:"btn btn-primary"})),r.a.createElement("br",null))),r.a.createElement("div",{className:"col-lg-4 col-md-3 col-sm-1"})))}}]),t}(r.a.Component),I=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"homeOrRegister",value:function(){return this.props.user.loggedIn?r.a.createElement(d.a,{to:"/home"}):r.a.createElement(N,{register:this.props.register})}},{key:"render",value:function(){return r.a.createElement("div",null,this.homeOrRegister())}}]),t}(r.a.Component),w=Object(O.b)((function(e){return{user:e.user}}),(function(e){return{register:function(t,n,a,r){return e(function(e,t,n,a){return function(r){r({type:"CREATING_NEW_USER",action:{username:t,password:a,email:n}});var o={method:"POST",mode:"cors",headers:{"Content-type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,email:n,password:a})};fetch("".concat(e,"/auth/register"),o).then((function(e){return e.json()})).then((function(e){"User created successfully"===e.message&&(sessionStorage.setItem("loggedIn",!0),sessionStorage.setItem("username",t),sessionStorage.setItem("password",a),sessionStorage.setItem("lastLogin",(new Date).getMinutes()))})).then((function(){v(e,t,a)}))}}(t,n,a,r))}}}))(I),S=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container border"},r.a.createElement("h1",null,"Welcome...",r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(h.b,{to:"/quiz"},r.a.createElement("h2",null,"Take a Quiz")))}}]),t}(r.a.Component);function C(e){return function(t){t({type:"LOADING_TOPICS"});var n={headers:{Authorization:sessionStorage.getItem("jwtToken")}};fetch("".concat(e,"/topics"),n).then((function(e){return e.json()})).then((function(e){t({type:"ADD_TOPICS",topics:e.body})}))}}var T=function(e){return r.a.createElement("div",{className:"Topic"},r.a.createElement("h1",null,"Topic: ",e.topic.name),r.a.createElement("h2",null,"Topic #: ",e.topic.id),r.a.createElement("h2",null,"Questions:"),e.questions.map((function(e,t){return r.a.createElement("h3",{key:t,className:"ml-4"},r.a.createElement(h.b,{to:"/questions/".concat(e.id)},e.stem))})),r.a.createElement(h.b,{to:"/questions/new"},r.a.createElement("button",{className:"btn btn-lg border"},"Create a New Question")),r.a.createElement("button",{className:"btn btn-lg border",onClick:function(){e.deleteTopic(e.topic.id)}},"Delete Topic"))},q=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getTopic(this.props.topicId)}},{key:"showTopicWhenLoaded",value:function(){var e=this.props.topic.topic_info,t=this.props.topic.questions;if(e)return r.a.createElement(T,{deleteTopic:this.props.deleteTopic,topic:e,questions:t})}},{key:"render",value:function(){return r.a.createElement("div",null,this.showTopicWhenLoaded())}}]),t}(a.Component),k=Object(O.b)((function(e){return{topic:e.topic.topic}}),(function(e){return{getTopic:function(t){return e(function(e,t){return function(n){n({type:"LOADING_TOPIC"});var a={headers:{Authorization:sessionStorage.getItem("jwtToken")}};fetch("".concat(e,"/topics/").concat(t),a).then((function(e){return e.json()})).then((function(e){n({type:"ADD_TOPIC",topic:e.body})}))}}(g,t))},deleteTopic:function(t){return e(function(e){return function(t){t({type:"DELETING_TOPIC"});var n={method:"DELETE",mode:"cors",headers:{Accept:"application/json",authorization:sessionStorage.getItem("jwtToken")}};fetch("/topics/".concat(e),n).then((function(e){return e.json()})).then((function(e){"success"===e.status&&(console.log("topic deleted"),document.location.href="/topics")}))}}(t))}}}))(q),L=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:""},n.handleInputChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.createTopic(n.state.name)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"New Topic:"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Topic Name:"),r.a.createElement("input",{name:"name",id:"name",type:"text",className:"form-control",onChange:this.handleInputChange,value:this.state.name})),r.a.createElement("input",{type:"submit",className:"btn btn-primary"})))}}]),t}(r.a.Component),_=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(L,{createTopic:this.props.createTopic})}}]),t}(a.Component),A=Object(O.b)(null,(function(e){return{createTopic:function(t){return e(function(e,t){return function(n){n({type:"CREATING_TOPIC"});var a={method:"POST",mode:"cors",headers:{"Content-type":"application/json",Accept:"application/json",authorization:sessionStorage.getItem("jwtToken")},body:JSON.stringify({name:t})};fetch("".concat(e,"/topics"),a).then((function(e){return e.json()})).then((function(e){n({type:"ADD_TOPIC",topic:e.body}),document.location.href="/topics"}))}}(g,t))}}}))(_),D=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getTopics(g)}},{key:"listTopics",value:function(){return this.props.topics.topicList.map((function(e,t){return r.a.createElement("h3",{key:t},r.a.createElement(h.b,{to:"/topics/".concat(e.id)}," ",e.name," "))}))}},{key:"showTopicsWhenLoaded",value:function(){if(this.props.topics.topicList)return r.a.createElement("div",null,this.listTopics(),r.a.createElement(h.b,{to:"/topics/new"},r.a.createElement("button",{className:"btn btn-lg border"},"Create a New Topic")))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/topics/new"},r.a.createElement(A,null)),r.a.createElement(d.b,{path:"/topics/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(k,{topicId:t})}}),r.a.createElement(d.b,{path:"/topics"},this.showTopicsWhenLoaded())))}}]),t}(r.a.Component),Q=Object(O.b)((function(e){return{topics:e.topics}}),(function(e){return{getTopics:function(t){return e(C(t))}}}))(D);var P=function(e){var t=e.question;return r.a.createElement("div",{className:"Question"},r.a.createElement("h1",null,t.stem),r.a.createElement("br",null),r.a.createElement("h1",{className:"ml-5"},"A. ",t.choice_1),r.a.createElement("h1",{className:"ml-5"},"B. ",t.choice_2),r.a.createElement("h1",{className:"ml-5"},"C. ",t.choice_3),r.a.createElement("h1",{className:"ml-5"},"D. ",t.choice_4),r.a.createElement("br",null),r.a.createElement("h2",null,"Correct Choice: ",function(e){switch(e){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";default:return"Not Found"}}(t.correct_choice)))},z=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestion(g,this.props.questionId)}},{key:"showQuestionWhenLoaded",value:function(){var e=this.props.question.question;if(e)return r.a.createElement(P,{question:e})}},{key:"render",value:function(){return r.a.createElement("div",null,this.showQuestionWhenLoaded())}}]),t}(a.Component),G=Object(O.b)((function(e){return{question:e.question.question}}),(function(e){return{getQuestion:function(t,n){return e(function(e,t){return function(n){n({type:"LOADING_QUESTION"});var a={headers:{Authorization:sessionStorage.getItem("jwtToken")}};fetch("".concat(e,"/questions/").concat(t),a).then((function(e){return e.json()})).then((function(e){n({type:"ADD_QUESTION",question:e.body})}))}}(t,n))}}}))(z),R=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,"New Question...")}}]),t}(r.a.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getQuestions(g)}},{key:"showQuestionsWhenLoaded",value:function(){var e=this.props.questions.questionList;if(e)return e.map((function(e,t){return r.a.createElement("h3",{key:t},r.a.createElement(h.b,{to:"/questions/".concat(e.id)}," ",e.stem," "))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/questions/new"},r.a.createElement(R,null)),r.a.createElement(d.b,{path:"/questions/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(G,{questionId:t})}}),r.a.createElement(d.b,{path:"/questions"},this.showQuestionsWhenLoaded())))}}]),t}(r.a.Component),W=Object(O.b)((function(e){return{questions:e.questions}}),(function(e){return{getQuestions:function(t){return e(function(e){return function(t){t({type:"LOADING_QUESTIONS"});var n={headers:{Authorization:sessionStorage.getItem("jwtToken")}};fetch("".concat(e,"/questions"),n).then((function(e){return e.json()})).then((function(e){t({type:"ADD_QUESTIONS",questions:e.body})}))}}(t))}}}))(U),x=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={numberOfQuestions:"",topicsList:[]},n.handleInputChange=function(e){if("checkbox"===e.target.type){var t=n.state.topicsList.slice(0);e.target.checked=!e.target.checked;var a=n.state.topicsList.findIndex((function(t){return parseInt(e.target.id)===t}));-1===a?t.push(parseInt(e.target.id)):t.splice(a,1),n.setState({topicsList:t})}else n.setState(Object(f.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault(),n.props.createQuiz(n.state.numberOfQuestions,n.state.topicsList)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"isChecked",value:function(e){return!!this.state.topicsList.find((function(t){return parseInt(e)===t}))}},{key:"listTopics",value:function(){var e=this;return this.props.topics.map((function(t,n){return r.a.createElement("div",{key:n},r.a.createElement("label",{className:"form-check-label"},r.a.createElement("input",{className:"",type:"checkbox",id:t.id,name:t.name,checked:e.isChecked(t.id),onChange:e.handleInputChange}),t.name))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"New Quiz:"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("h3",null,"Topics:"),this.listTopics()),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Number of Questions:"),r.a.createElement("input",{name:"numberOfQuestions",type:"text",value:this.state.numberOfTopics,onChange:this.handleInputChange})),r.a.createElement("input",{type:"submit",className:"btn btn-primary"})),console.log("#Questions: ",this.state.numberOfQuestions),console.log("Topics: ",this.state.topicsList))}}]),t}(r.a.Component);var F=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).state={questionAnswered:!1,questionAnsweredCorrectly:!1,selection:""},n.handleSelection=function(e){if(!1===n.state.questionAnswered){var t=parseInt(e.target.id);n.setState({questionAnswered:!0,selection:parseInt(e.target.id)}),t===n.props.question.correct_choice&&n.setState({questionAnsweredCorrectly:!0})}},n.showGradedQuestion=function(){if(n.state.questionAnswered)return n.state.questionAnsweredCorrectly?r.a.createElement("h1",null,"Correct!"):r.a.createElement("h1",null,"Incorrect. The correct answer is ",n.numberToLetter(n.props.question.correct_choice));setTimeout((function(){return n.storeResult()}),3e3)},n.storeResult=function(){console.log("in storeResult - state: ",n.state),n.state.questionAnswered&&(n.props.storeQuestionResponse(n.props.question,parseInt(n.state.selection)),console.log(n.state),n.setState({questionAnswered:!1,questionAnsweredCorrectly:!1,selection:""}))},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"numberToLetter",value:function(e){switch(e){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";default:return"Not Found"}}},{key:"render",value:function(){var e=this.props.question;return r.a.createElement("div",{className:"Question"},r.a.createElement("h1",null,e.stem),r.a.createElement("br",null),r.a.createElement("h1",{id:"1",className:"ml-5 question-choice",onClick:this.handleSelection},"A. ",e.choice_1),r.a.createElement("h1",{id:"2",className:"ml-5 question-choice",onClick:this.handleSelection},"B. ",e.choice_2),r.a.createElement("h1",{id:"3",className:"ml-5 question-choice",onClick:this.handleSelection},"C. ",e.choice_3),r.a.createElement("h1",{id:"4",className:"ml-5 question-choice",onClick:this.handleSelection},"D. ",e.choice_4),r.a.createElement("br",null),this.showGradedQuestion())}}]),t}(r.a.Component),M=Object(O.b)((function(e){return{quiz:e.quiz}}),(function(e){return{storeQuestionResponse:function(t,n){return e(function(e,t){return function(n){n({type:"STORE_RESPONSE",question:e,choice:t})}}(t,n))}}}))(F),J=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(l.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).askQuestionOrGiveSummary=function(){return n.props.quiz.currentQuestion<=n.props.quiz.questions.length-1?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Question #",n.props.quiz.currentQuestion+1,":"),r.a.createElement(M,{question:n.props.quiz.questions[n.props.quiz.currentQuestion]})):r.a.createElement(r.a.Fragment,null,n.showSummary(),r.a.createElement("button",{className:"btn btn-lg border",onClick:function(){return n.props.storeQuizResults(n.props.quiz.questions)}},"Done - Store Results"))},n.showSummary=function(){var e=n.props.quiz.questions.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h1",null,"Question #",t+1),r.a.createElement(P,{question:e}),r.a.createElement("h2",null,"You answered: ",n.numberToLetter(e.choice)),r.a.createElement("hr",null))}));return r.a.createElement(r.a.Fragment,null,e)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"numberToLetter",value:function(e){switch(e){case 1:return"A";case 2:return"B";case 3:return"C";case 4:return"D";default:return"Not Found"}}},{key:"render",value:function(){return r.a.createElement("div",null,this.askQuestionOrGiveSummary())}}]),t}(r.a.Component),B=Object(O.b)((function(e){return{quiz:e.quiz}}),(function(e){return{storeQuizResults:function(t){return e(function(e,t){return function(n){n({type:"STORING_RESULTS"});var a={method:"POST",mode:"cors",headers:{"Content-type":"application/json",Accept:"application/json",authorization:sessionStorage.getItem("jwtToken")},body:JSON.stringify({questions:t})};console.log(a),fetch("".concat(e,"/encounters"),a).then((function(e){return e.json()})).then((function(e){console.log(e),n({type:"RESULTS_STORED"}),document.location.href="/home"}))}}(g,t))}}}))(J),K=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getTopics(g)}},{key:"renderWhenLoaded",value:function(){return this.props.quiz.questions.length>0?r.a.createElement("div",null,r.a.createElement(B,null)):this.props.topics&&this.props.topics.length>0?r.a.createElement("div",null,r.a.createElement(x,{createQuiz:this.props.createQuiz,topics:this.props.topics})):void 0}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderWhenLoaded())}}]),t}(r.a.Component),Z=Object(O.b)((function(e){return{topics:e.topics.topicList,quiz:e.quiz}}),(function(e){return{getTopics:function(t){return e(C(t))},createQuiz:function(t,n){return e(function(e,t,n){return function(a){a({type:"CREATING_QUIZ"});var r={method:"POST",mode:"cors",headers:{"Content-type":"application/json",Accept:"application/json",authorization:sessionStorage.getItem("jwtToken")},body:JSON.stringify({topicIds:n.toString(),numberOfQuestions:t})};fetch("".concat(e,"/quiz"),r).then((function(e){return e.json()})).then((function(e){console.log(e),a({type:"ADD_QUIZ",quiz:e.quiz})}))}}(g,t,n))}}}))(K),H=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-sm"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/home"},"Home")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/quiz"},"Quiz")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/login"},"Log In / Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"/",onClick:this.props.logout},"Log Out")))))}}]),t}(r.a.Component),X=Object(O.b)(null,(function(e){return{logout:function(){return e((sessionStorage.setItem("jwtToken",""),sessionStorage.setItem("loggedIn",!1),sessionStorage.setItem("username",""),sessionStorage.setItem("password",""),function(e){e({type:"LOG_OUT"})}))}}}))(H),V=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{history:this.props.history},r.a.createElement("div",{className:"App"},r.a.createElement(d.b,{path:"/"},r.a.createElement(X,null)),r.a.createElement(d.d,null,r.a.createElement(Y,{exact:!0,path:"/",component:S}),r.a.createElement(d.b,{path:"/login",component:y}),r.a.createElement(d.b,{path:"/register",component:w}),r.a.createElement(Y,{path:"/home",component:S}),r.a.createElement(Y,{path:"/topics",component:Q}),r.a.createElement(Y,{path:"/questions",component:W}),r.a.createElement(Y,{path:"/quiz",component:Z}))))}}]),t}(r.a.Component);function Y(e){var t=e.children,n=(e.auth,Object(c.a)(e,["children","auth"]));return r.a.createElement(d.b,Object.assign({},n,{render:function(e){e.location;return sessionStorage.getItem("loggedIn")?t:r.a.createElement(d.a,{to:"/login"})}}))}var $=Object(O.b)((function(e){return{user:e.user}}),(function(e){return{checkToken:function(t){return e(function(e){return function(t){t({type:"CHECKING_TOKEN"});var n={headers:{"Content-type":"application/json",Authorization:sessionStorage.getItem("jwtToken")}};fetch("".concat(e,"/test"),n).then((function(e){return e.json()})).then((function(e){"success"===e.status?(sessionStorage.setItem("loggedIn",!0),t({type:"LOGGED_IN"})):(sessionStorage.setItem("loggedIn",!1),t({type:"LOGIN_FAILED"}))}))}}(t))}}}))(V),ee=n(17),te=n(31),ne=n(8),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",password:"",inProgress:!1,loggedIn:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGING_IN":return Object(ne.a)({},e,{name:t.action.username,password:t.action.password,inProgress:!0});case"LOGGED_IN":return Object(ne.a)({},e,{inProgress:!1,loggedIn:!0});case"LOGIN_FAILED":return Object(ne.a)({},e,{inProgress:!1,loggedIn:!1});case"CHECKING_TOKEN":return Object(ne.a)({},e,{inProgress:!0});case"LOG_OUT":return Object(ne.a)({},e,{name:"",password:"",inProgress:!1,loggedIn:!1});default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{topicList:[],inProgress:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_TOPICS":return Object(ne.a)({},e,{inProgress:!0});case"ADD_TOPICS":return{topicList:t.topics,inProgress:!1};default:return e}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{topic:{},inProgress:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_TOPIC":return Object(ne.a)({},e,{inProgress:!0});case"ADD_TOPIC":return Object(ne.a)({},e,{topic:t.topic,inProgress:!1});case"CREATING_TOPIC":return Object(ne.a)({},e,{topic:t.topic,inProgress:!0});default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{questionList:[],inProgress:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_QUESTIONS":return Object(ne.a)({},e,{inProgress:!0});case"ADD_QUESTIONS":return{questionList:t.questions,inProgress:!1};default:return e}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{question:{},inProgress:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_QUESTION":return Object(ne.a)({},e,{inProgress:!0});case"ADD_QUESTION":return{question:t.question,inProgress:!1};default:return e}},ie=n(32),ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{questions:[],currentQuestion:0,inProgress:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_QUIZ":return Object(ne.a)({},e,{inProgress:!0});case"ADD_QUIZ":return Object(ne.a)({},e,{questions:t.quiz,inProgress:!1});case"STORE_RESPONSE":var n=Object.assign({},t.question);n.choice=t.choice;var a=Object(ie.a)(e.questions);return a[e.currentQuestion]=n,console.log(a),Object(ne.a)({},e,{questions:a,currentQuestion:e.currentQuestion+1});default:return e}},le=function(e){return Object(ee.c)({user:ae,topics:re,topic:oe,questions:se,question:ce,quiz:ue})},me=n(11),pe=Object(me.a)(),he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ee.d,de=Object(ee.e)(le(pe),he(Object(ee.a)(te.a)));s.a.render(r.a.createElement(O.a,{store:de},r.a.createElement($,null)),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.b84b6d8c.chunk.js.map